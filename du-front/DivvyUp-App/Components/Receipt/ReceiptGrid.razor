@using DivvyUp_Web.Api.Response

<RadzenDataGrid AllowFiltering="true" AllowColumnResize="true" AllowAlternatingRows="false" FilterMode="FilterMode.Simple" AllowSorting="true" PageSize="5" AllowPaging="true" PagerHorizontalAlign="HorizontalAlign.Center" ShowPagingSummary="true"
                Data="@Receipts" ColumnWidth="300px" LogicalFilterOperator="LogicalFilterOperator.Or" @ref="receiptGrid">
    <Columns>
        <RadzenDataGridColumn Property="@nameof(ShowReceiptResponse.settled)" Title="Zarządzanie" Width="15%" TextAlign="TextAlign.Center" Filterable="false">
            <Template Context="data">
                <RadzenCheckBox class="button" @bind-Value="data.settled" Change="@(async (bool Check) => await SetSettled(data.receiptId, data.settled))"/>
                <RadzenButton Icon="edit" ButtonStyle="ButtonStyle.Secondary"/>
                <RadzenButton Icon="delete" ButtonStyle="ButtonStyle.Danger"/>
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn Property="@nameof(ShowReceiptResponse.receiptName)" Title="Nazwa" Frozen="true" Width="40%"/>
        <RadzenDataGridColumn Property="@nameof(ShowReceiptResponse.date)" Title="Data" Frozen="true" Width="25%" FilterMode="FilterMode.SimpleWithMenu">
            <Template Context="data">
                @data.date.ToString("dd.MM.yyyy")
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn Property="@nameof(ShowReceiptResponse.totalAmount)" Title="Kwota" Frozen="true" Width="25%">
            <Template Context="data">
                @(data.totalAmount)zł
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</RadzenDataGrid>

<style>
    .button {
        width: 36px;
        height: 36px;
    }
</style>