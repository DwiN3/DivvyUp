@using BlazorBootstrap;
@using DivvyUp_Web.Api.Response

<Grid TItem="ShowReceiptResponse"
      AllowRowClick="true"
      AllowSorting="true"
      Class="table table-hover"
      DataProvider="ReceiptsDataProvider"
      HeaderRowCssClass="bg-primary text-white border-bottom-0"
      Responsive="true"
      @key="Receipts">
      
    <GridColumn TItem="ShowReceiptResponse"
                HeaderText="Rozliczone"
                HeaderTextAlignment="Alignment.Center"
                TextAlignment="Alignment.Center"
                SortKeySelector="item => item.settled">
        <input type="checkbox" @bind="context.settled" @onclick="(args) => SetSettled(context.receiptId, !context.settled)"/>
    </GridColumn>

    <GridColumn TItem="ShowReceiptResponse" 
                HeaderText="Nazwa" 
                HeaderTextAlignment="Alignment.Center" 
                TextAlignment="Alignment.Center"
                SortKeySelector="item => item.receiptName">
        @context.receiptName
    </GridColumn>

    <GridColumn TItem="ShowReceiptResponse"
                HeaderTextAlignment="Alignment.Center" 
                TextAlignment="Alignment.Center"
                HeaderText="Data" SortKeySelector="item => item.date">
        @context.date.ToString("dd.MM.yyyy")
    </GridColumn>

    <GridColumn TItem="ShowReceiptResponse" 
                HeaderText="Kwota" 
                HeaderTextAlignment="Alignment.Center"
                TextAlignment="Alignment.Center"
                SortKeySelector="item => item.totalAmount">
        @context.totalAmount
    </GridColumn>
    
    <GridColumn TItem="ShowReceiptResponse" 
                HeaderTextAlignment="Alignment.Center"
                TextAlignment="Alignment.Center"
                HeaderText="Usuń">
        <img src="icons/remove_icon.png" alt="Usuń" @onclick="@(e => RemoveReceipt(context.receiptId))" style="cursor: pointer; width: 15px; height: 15px;" />
    </GridColumn>
</Grid>